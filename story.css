:root{
  --text:#ecf6ff;
  --glass: rgba(10,16,24,.58);
  --border: rgba(255,255,255,.14);

  --purple:#7c4dff;
  --wine:#6b0f2a;
  --teal:#5ce0c4;
}

*{box-sizing:border-box}
body{
  margin:0; min-height:100vh; display:grid; place-items:center;
  font-family: ui-sans-serif, system-ui, -apple-system, Segoe UI, Roboto, Arial;
  color:var(--text);
  background:
    radial-gradient(900px 520px at 20% 25%, rgba(92,224,196,.22), transparent 60%),
    radial-gradient(900px 520px at 80% 35%, rgba(124,77,255,.18), transparent 60%),
    linear-gradient(160deg, #071a25, #0f3a3a);
  overflow:hidden;
}

.frame{
  width:min(1100px, 94vw);
  aspect-ratio:16/9;
  border-radius:26px;
  border:1px solid var(--border);
  box-shadow: 0 20px 60px rgba(0,0,0,.35);
  overflow:hidden;
  background: rgba(255,255,255,.03);
  position:relative;
}

.camera{
  width:100%; height:100%;
  position:relative;
  transform-origin:center;
}

/* Background */
.bg{
  position:absolute; inset:0;
  background:
    radial-gradient(800px 420px at 40% 25%, rgba(92,224,196,.22), transparent 60%),
    radial-gradient(900px 520px at 70% 40%, rgba(107,15,42,.14), transparent 62%),
    linear-gradient(180deg, #0b2230, #0f3a3a);
}
.bg::after{
  content:""; position:absolute; inset:0;
  background: radial-gradient(900px 520px at 50% 70%, rgba(0,0,0,.12), rgba(0,0,0,.62));
}

/* Mountains */
.mountains{
  position:absolute; left:0; right:0; bottom:-10px;
  height:55%;
  background:
    linear-gradient(180deg, transparent, rgba(0,0,0,.20)),
    radial-gradient(1000px 420px at 28% 90%, rgba(92,224,196,.16), transparent 60%),
    radial-gradient(900px 380px at 70% 92%, rgba(124,77,255,.12), transparent 60%);
  clip-path: polygon(0 80%, 10% 68%, 22% 78%, 34% 58%, 46% 73%, 58% 52%, 70% 70%, 82% 56%, 92% 72%, 100% 62%, 100% 100%, 0 100%);
  opacity:.95;
}

/* Particles */
.particles{ position:absolute; inset:0; pointer-events:none; z-index:8; }
.p{
  position:absolute;
  text-shadow: 0 10px 30px rgba(0,0,0,.35);
  user-select:none;
}
.p.heart{ color: rgba(107,15,42,.95); }
.p.spark{ color: rgba(255,255,255,.95); }

/* Miata */
.miata{
  position:absolute;
  width:260px; height:90px;
  left:-340px; bottom:140px;
  z-index:6;
  filter: drop-shadow(0 20px 40px rgba(0,0,0,.35));
}
.miata-body{
  position:absolute; inset:0;
  border-radius:26px;
  background: linear-gradient(90deg, rgba(124,77,255,.55), rgba(92,224,196,.45));
  border:1px solid rgba(255,255,255,.18);
}
.wheel{
  position:absolute; width:44px; height:44px; border-radius:50%;
  background: rgba(0,0,0,.35);
  bottom:-18px;
}
.wheel::after{
  content:""; position:absolute; inset:12px;
  border-radius:50%; background: rgba(255,255,255,.18);
}
.w1{ left:40px; } .w2{ right:40px; }

.light{
  position:absolute; width:18px; height:18px; border-radius:50%;
  background: rgba(255,255,255,.12);
  top:36px;
  border:1px solid rgba(255,255,255,.16);
}
.light.left{ left:18px; } .light.right{ right:18px; }
.light::after{
  content:""; position:absolute; inset:3px;
  border-radius:50%; background: rgba(255,255,255,.95);
  opacity:.15; animation: wink 2.2s infinite;
}
.light.right::after{ animation-delay:.25s; }
@keyframes wink{
  0%, 78%, 100%{ opacity:.15; }
  84%, 94%{ opacity:1; }
}

/* Characters */
.char{
  position:absolute;
  bottom:120px;
  width:360px;
  height:520px;
  z-index:7;
  opacity:0;
  transform: translateY(10px);
}
.char.show{
  opacity:1;
  transform: translateY(0);
  transition: opacity .35s ease, transform .55s cubic-bezier(.2,.9,.2,1);
}

/* “Anime idle” */
.char.idle{
  animation: idle 2.8s ease-in-out infinite;
}
@keyframes idle{
  0%,100%{ transform: translateY(0); }
  50%{ transform: translateY(-10px); }
}

.char.momo{ left:90px; }
.char.wawa{ right:90px; }

/* Layers */
.layer{ position:absolute; left:0; top:0; }
.layer canvas{
  width:360px; height:auto;
  image-rendering: auto;
  filter: saturate(1.10) contrast(1.08);
}

/* Head layer sits above body and moves */
.char .layer.head{
  left:90px; top:30px;
  transform-origin: 50% 70%;
  animation: headNod 3.2s ease-in-out infinite;
}
@keyframes headNod{
  0%,100%{ transform: rotate(0deg) translateY(0); }
  50%{ transform: rotate(-2deg) translateY(-3px); }
}

/* MOMO arm layer (wave) */
.char .layer.arm{
  left:140px; top:210px;
  transform-origin: 20% 15%;
}

/* Name tag */
.name{
  position:absolute; left:50%; bottom:-14px;
  transform:translateX(-50%);
  padding:7px 12px;
  border-radius:999px;
  font-weight:950;
  color:#07151e;
  background: linear-gradient(90deg, rgba(92,224,196,.92), rgba(124,77,255,.82));
  border:1px solid rgba(255,255,255,.14);
}

/* Speech bubbles near heads */
.bubble{
  position:absolute;
  width:320px;
  padding:12px 14px;
  border-radius:18px;
  background: rgba(10,16,24,.58);
  border:1px solid rgba(255,255,255,.16);
  backdrop-filter: blur(12px);
  opacity:0;
  transform: translateY(10px) scale(.98);
  transition: opacity .25s ease, transform .25s ease;
}
.bubble.show{ opacity:1; transform: translateY(0) scale(1); }
.bubble span{ display:block; font-size:16px; line-height:1.35; }

#momo .bubble{ left:240px; top:10px; }
#wawa .bubble{ right:240px; top:10px; }

/* HUD */
.hud{
  position:absolute; left:16px; bottom:16px;
  display:flex; gap:10px; align-items:center;
  z-index:20;
  padding:10px;
  border-radius:16px;
  background: var(--glass);
  border:1px solid var(--border);
  backdrop-filter: blur(12px);
}
button{
  border:1px solid rgba(255,255,255,.14);
  background: rgba(255,255,255,.10);
  color:var(--text);
  padding:10px 12px;
  border-radius:12px;
  font-weight:950;
  cursor:pointer;
}
button:hover{ background: rgba(255,255,255,.16); }
.primary{
  border:0;
  color:#07151e;
  background: linear-gradient(90deg, rgba(92,224,196,.92), rgba(124,77,255,.86));
}
.scene{ font-size:12px; color:rgba(255,255,255,.78); padding-left:8px; }

/* Camera moves */
.cam-zoom{ animation: camZoom 1.2s ease both; }
@keyframes camZoom{ from{ transform: scale(1); } to{ transform: scale(1.06); } }

.cam-pan{ animation: camPan 1.2s ease both; }
@keyframes camPan{ from{ transform: translateX(0); } to{ transform: translateX(-24px); } }
